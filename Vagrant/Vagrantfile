# Cấu hình số lượng máy ảo và thông số
VM_COUNT = 3
VM_RAM   = 512
VM_CPU   = 1
BASE_IP  = "192.168.56.1"

Vagrant.configure("2") do |config|
  config.vm.box = "ubuntu/focal64"

  (1..VM_COUNT).each do |i|
    config.vm.define "vm#{i}" do |vm|
      vm.vm.hostname = "vm#{i}"
      vm.vm.network "private_network", ip: "#{BASE_IP}#{i}"

      vm.vm.provider "virtualbox" do |vb|
        vb.memory = VM_RAM
        vb.cpus = VM_CPU
      end

      vm.vm.provision "shell", path: "scripts/provision.sh"
    end
  end
end
